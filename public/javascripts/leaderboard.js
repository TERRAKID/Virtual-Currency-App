const baseUrl=window.location.protocol+"//"+window.location.host;let userId,placeNumber=1;fetch(baseUrl+"/api/v1/currency/current",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>e.json()).then(e=>{userId=e.data.user._id}).catch(e=>{logout()}),fetch(baseUrl+"/api/v1/currency/leaderboard",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>e.json()).then(e=>{e.data.currency.forEach(e=>{showLeaderboard(e)})}).catch(e=>{logout()});let showLeaderboard=e=>{let t=document.createElement("div"),r=document.createElement("p"),a=document.createElement("img"),o=document.createElement("p"),n=document.createElement("p");e._id===userId?t.setAttribute("class","leaderboard__person leaderboard__person--current"):t.setAttribute("class","leaderboard__person"),r.setAttribute("class","leaderboard__place"),a.setAttribute("src","/images/profile.jpeg"),a.setAttribute("alt","Profile picture"),a.setAttribute("class","leaderboard__img"),o.setAttribute("class","leaderboard__name"),n.setAttribute("class","leaderboard__amount"),r.innerHTML=placeNumber,o.innerHTML=e.firstname+" "+e.lastname,n.innerHTML=e.amount+" coins",placeNumber++,t.append(r),t.append(a),t.append(o),t.append(n),document.querySelector(".leaderboard").append(t)};logout=()=>{localStorage.removeItem("token"),window.location.href="/login"};